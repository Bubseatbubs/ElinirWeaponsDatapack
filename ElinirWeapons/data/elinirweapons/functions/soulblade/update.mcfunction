execute as @s at @s run tp @s ^ ^ ^0.55
execute at @s positioned ~ ~-0.3 ~ run execute as @e[type=!#minecraft:non_mobs,distance=..1,tag=!undead] unless score @s SUID = @e[tag=swordshoot,limit=1,sort=nearest] SUID run effect give @s minecraft:instant_damage 1 0 true
execute at @s positioned ~ ~-0.3 ~ run execute as @e[distance=..1,type=#minecraft:undead_mobs] unless score @s SUID = @e[tag=swordshoot,limit=1,sort=nearest] SUID run effect give @s minecraft:instant_health 1 0 true
execute at @s as @e[distance=..0.95,type=!minecraft:player,type=!#minecraft:non_mobs,tag=!ray] unless score @s SUID = @e[tag=swordshoot,limit=1,sort=nearest] SUID run kill @e[tag=swordshoot,limit=1,sort=nearest]
execute as @s at @s as @e[distance=..0.95,type=!minecraft:player,type=!#minecraft:non_mobs,tag=!ray] unless score @s SUID = @e[tag=swordshoot,limit=1,sort=nearest] SUID run kill @e[tag=swordshoot,limit=1,sort=nearest]
execute as @s at @s positioned ~ ~0.5 ~ unless block ~ ~ ~ air unless block ~ ~ ~ water unless block ~ ~ ~ lava unless block ~ ~ ~ #minecraft:banners unless block ~ ~ ~ #minecraft:buttons unless block ~ ~ ~ #minecraft:carpets unless block ~ ~ ~ #minecraft:climbable unless block ~ ~ ~ #minecraft:coral_plants unless block ~ ~ ~ minecraft:dead_bush unless block ~ ~ ~ minecraft:player_head unless block ~ ~ ~ minecraft:zombie_head unless block ~ ~ ~ minecraft:creeper_head unless block ~ ~ ~ minecraft:skeleton_skull unless block ~ ~ ~ minecraft:wither_skeleton_skull unless block ~ ~ ~ #minecraft:crops unless block ~ ~ ~ #minecraft:flower_pots unless block ~ ~ ~ #minecraft:flowers unless block ~ ~ ~ #minecraft:portals unless block ~ ~ ~ #minecraft:pressure_plates unless block ~ ~ ~ #minecraft:rails unless block ~ ~ ~ #minecraft:saplings unless block ~ ~ ~ #minecraft:signs unless block ~ ~ ~ #minecraft:trapdoors unless block ~ ~ ~ minecraft:brown_mushroom unless block ~ ~ ~ minecraft:red_mushroom unless block ~ ~ ~ minecraft:sugar_cane unless block ~ ~ ~ minecraft:sweet_berry_bush unless block ~ ~ ~ minecraft:torch unless block ~ ~ ~ minecraft:wall_torch unless block ~ ~ ~ minecraft:seagrass unless block ~ ~ ~ minecraft:fire unless block ~ ~ ~ minecraft:soul_fire unless block ~ ~ ~ minecraft:snow unless block ~ ~ ~ minecraft:blue_ice unless block ~ ~ ~ #minecraft:slabs unless block ~ ~ ~ minecraft:bedrock unless block ~ ~ ~ tall_grass unless block ~ ~ ~ grass run kill @s
execute as @s at @s run particle minecraft:reverse_portal ~ ~0.5 ~ 0.1 0.3 0.1 0.01 2
execute as @s at @s run particle minecraft:enchanted_hit ~ ~0.5 ~ 0.25 0.3 0.25 0.05 1